# 列表渲染

### 条件渲染

![image-20210517201335930](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517201335930.png)

善用template元素避免在页面渲染

特别在列表中，如果不想加入多余的div，那么可以用template标签代替，关键是它不会渲染到页面上，给力

![image-20210517202058599](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517202058599.png)

![image-20210517202132231](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517202132231.png)

![image-20210517204806104](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517204806104.png)

v-show 和 v-if 用法上的区别

- v-show不支持和template一起使用
- v-show不可以和v-else一起使用

v-show 和 v-if 本质上的区别

好像 还有一个区别是绑定的事件会不会触发

![image-20210517202602211](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517202602211.png)

### v-for列表

v-for可以跟数组，也可以跟对象和数值

![image-20210517204023636](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517204023636.png)

### 数组的更新检测

![image-20210517205007325](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517205007325.png)

filter方法没在里面，是因为filter不会改变原有数组

![image-20210517205546959](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517205546959.png)

#### v-for中的key的作用

打打

![image-20210517205940456](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517205940456.png)

![image-20210517210257224](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517210257224.png)

#### VNode

VNode最大的好处是做跨平台的兼容，部分情况下性能也会更高一些

VNode 就是虚拟节点，一个元素就是一个VNode，多个虚拟节点组成虚拟DOM，虚拟DOM和真实DOM不是一一对应的

![image-20210517211027183](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517211027183.png)

#### diff算法

当需要给列表中插入一个数据的时候

![image-20210517213819014](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517213819014.png)



源码阅读

![image-20210517214614004](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517214614004.png)

![image-20210517215728317](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517215728317.png)

![image-20210517221023325](C:\Users\18829\AppData\Roaming\Typora\typora-user-images\image-20210517221023325.png)

Patch -> n1为null， mount操作

patch -> 如果n1，那么进行更新操作

patch打补丁 就是比较两个新旧节点的不同，然后根据不同 去更新节点



mount 挂载 div -> 真实DOM
unmount 卸载 真实DOM -> div

